@using CriticWeb.DataLayer
@using CriticWeb.Models.Data
@model CriticWeb.Models.ContentCriticViewModels.AllReviewsViewModel   

@if (Model.Reviews != null)
{
    int pagesCount = 0;
    for (int i = 0; i < Model.Reviews.Length; i++)
    {
        if (i == 0 || i % 10 == 0)
        {
            pagesCount++;
            @:<div id="page-@pagesCount">
        }
        <div class="container-fluid">
            <div class="row">
                <div class="col-md-6">
                    <div class="row">
                        <div class="col-md-8">
                            <h4><a href="@Url.Action("EntertainmentDetails", "Home", new { id = Model.Reviews[i].EntertainmentId })">@(new EntertainmentVM(Entertainment.GetById(Model.Reviews[i].EntertainmentId)))</a></h4>
                        </div>
                        <div class="col-md-4">
                            <button type="button" class="btn btn-success"><span class="glyphicon glyphicon-ok"></span></button>
                            <button type="button" class="btn btn-danger"><span class="glyphicon glyphicon-remove"></span></button>
                        </div>
                    </div>                    
                    @Html.Partial("_ReviewPartialView", Model.Reviews[i])
                </div>
                @{ i++; }
                <div class="col-md-6">
                    @if (i < Model.Reviews.Length)
                    {
                        <h4><a href="@Url.Action("EntertainmentDetails", "Home", new { id = Model.Reviews[i].EntertainmentId })">@(new EntertainmentVM(Entertainment.GetById(Model.Reviews[i].EntertainmentId)))</a></h4>
                        @Html.Partial("_ReviewPartialView", Model.Reviews[i])
                    }
                </div>
            </div>
        </div>
        
        if ((i-9) % 10 == 0 || i >=  Model.Reviews.Length-1)
        {
            @:</div>
        }
    }
    <div class="text-center">
        <p>Сторінки:</p>
        <p class="page-nav">
        </p>        
    </div>
}
